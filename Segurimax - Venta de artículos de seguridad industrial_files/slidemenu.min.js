function xSlideMenu(){let e=function(e){e.querySelectorAll(".brxe-xslidemenu").forEach(e=>{let n=e.getAttribute("data-x-slide-menu"),l=n?JSON.parse(n):{},r=document.querySelector(".brx-body.iframe"),d=l.slideDuration;if(e.querySelectorAll(".menu-item-has-children > a").forEach(t=>{t.querySelector(".x-slide-menu_dropdown-icon")&&t.querySelector(".x-slide-menu_dropdown-icon").remove();var i=document.createElement("button");i.setAttribute("aria-expanded","false"),i.setAttribute("class","x-slide-menu_dropdown-icon"),i.setAttribute("aria-label",l.subMenuAriaLabel),t.append(i),e.querySelector(".x-sub-menu-icon")?i.innerHTML+=e.querySelector(".x-sub-menu-icon").innerHTML:i.innerHTML+='<svg class="x-slide-menu_dropdown-icon-svg" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="6 9 12 15 18 9"/>',i.addEventListener("click",function e(t){t.preventDefault(),t.stopPropagation();let i=this.closest(".menu-item-has-children");this.setAttribute("aria-expanded","true"===this.getAttribute("aria-expanded")?"false":"true"),i.lastElementChild.xslideToggle(d);Array.from(i.parentElement.children).filter(e=>e.textContent!==i.textContent).forEach(e=>{e.classList.contains("menu-item-has-children")&&(e.lastElementChild.xslideUp(d),e.children[0].lastElementChild.setAttribute("aria-expanded","false"))})})}),e.querySelectorAll('.menu-item-has-children > a[href*="#"]').forEach(t=>{t.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),t.querySelector(".x-slide-menu_dropdown-icon").click()}),null!=l.clickSelector&&document.querySelectorAll(l.clickSelector).length&&e.querySelectorAll('.menu-item:not(.menu-item-has-children) > a[href*="#"]').forEach(e=>{!r&&e.addEventListener("click",function(e){document.querySelector(l.clickSelector).click()})})}),null!=l.clickSelector&&document.querySelectorAll(l.clickSelector).length){let a=!1;function o(e){if("Escape"===e.key||"Esc"===e.key){document.querySelector(l.clickSelector).click();return}e.target.closest(".x-slide-menu_open")||e.target.closest(l.clickSelector)||document.querySelector(l.clickSelector).click()}r||document.querySelectorAll(l.clickSelector).forEach(n=>{n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),(a=!a)?(e.classList.add("x-slide-menu_open"),t(e.getAttribute("data-x-id")),document.addEventListener("keydown",o),document.addEventListener("click",o)):(e.classList.remove("x-slide-menu_open"),i(e.getAttribute("data-x-id")),document.removeEventListener("keydown",o),document.removeEventListener("click",o))})})}})};function t(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let i=t.getAttribute("data-x-slide-menu"),n=i?JSON.parse(i):{};t.xslideDown(n.slideDuration),t.dispatchEvent(new Event("x_slide_menu:expand"))}function i(e){let t=document.querySelector('.brxe-xslidemenu[data-x-id="'+e+'"]');if(!t)return;let i=t.getAttribute("data-x-slide-menu"),n=i?JSON.parse(i):{};t.xslideUp(n.slideDuration),t.dispatchEvent(new Event("x_slide_menu:collapse"))}function n(t){if(void 0===t.detail.queryId){if(void 0===t.detail.popupElement)return;e(t.detail.popupElement,!0)}setTimeout(()=>{document.querySelector(".brxe-"+t.detail.queryId)&&e(document.querySelector(".brxe-"+t.detail.queryId).parentElement)},0)}e(document),document.addEventListener("bricks/ajax/load_page/completed",n),document.addEventListener("bricks/ajax/pagination/completed",n),document.addEventListener("bricks/ajax/popup/loaded",n),document.addEventListener("bricks/ajax/end",n),window.doExtrasSlideMenu=e,window.xOpenSlideMenu=t,window.xCloseSlideMenu=i,"undefined"!=typeof bricksextras&&(bricksextras.slidemenu={expand(e){let i=e?.target||!1;i&&i.hasAttribute("data-x-id")&&"none"===window.getComputedStyle(i,null).display&&t(i.getAttribute("data-x-id"))},collapse(e){let t=e?.target||!1;t&&t.hasAttribute("data-x-id")&&"none"!==window.getComputedStyle(t,null).display&&i(t.getAttribute("data-x-id"))},toggle(e){let n=e?.target||!1;n&&n.hasAttribute("data-x-id")&&("none"===window.getComputedStyle(n,null).display?t(n.getAttribute("data-x-id")):i(n.getAttribute("data-x-id")))}})}document.addEventListener("DOMContentLoaded",function(e){bricksIsFrontend&&xSlideMenu()});